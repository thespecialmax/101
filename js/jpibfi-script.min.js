!function g(a,b,d){function e(c,i){if(!b[c]){if(!a[c]){var h="function"==typeof require&&require;if(!i&&h)return h(c,!0);if(f)return f(c,!0);throw(h=new Error("Cannot find module '"+c+"'")).code="MODULE_NOT_FOUND",h}h=b[c]={exports:{}},a[c][0].call(h.exports,function(b){return e(a[c][1][b]||b)},h,h.exports,g,a,b,d)}return b[c].exports}for(var f="function"==typeof require&&require,c=0;c<d.length;c++)e(d[c]);return e}({1:[function(d,e,a){"use strict";var b=function(){return(b=Object.assign||function(d){for(var a,b=1,e=arguments.length,c;b<e;b++)for(c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)},c;a.__esModule=!0,a.createMediaQueriesForCustomButton=a.createMediaQueriesForDefaultButton=a.createCssRulesForCustomButton=a.createCssRulesForDefaultButton=void 0,c=d("./css-helper"),a.createCssRulesForDefaultButton=function(e,f){var a,d,g;d=f,g=0,f=function(a,b){switch(a*=36/54,b){case"pushpin":case"thumb-tack":return.7*a;default:return a}}((a=e).height,d),e={height:a.height+"px !important",width:a.width+"px !important"},a=b(b({},e),{"font-size":f+"px"}),d=function(a,b){switch(b){case"circle":return{"margin-top":-.5*a+"px","margin-left":-.5*a*(55/64)+"px"};case"plain":return{"margin-top":-.46875*a+"px","margin-left":-.5*a*(51/73)+"px"};case"thumb-tack":return{"margin-top":-29.5/64*a+"px","margin-left":-.5*a*(41/64)+"px"};case"pushpin":case"pinterest2":return{"margin-top":-.5*a+"px","margin-left":-.5*a+"px"}}}(f,d),c.addMediaQueryRule("a.pinit-button",g,e),c.addMediaQueryRule("a.pinit-button span",g,a),c.addMediaQueryRule("a.pinit-button span:before",g,d)},a.createCssRulesForCustomButton=function(d){var a,e;e=0,d={height:(a=d).height+"px !important",width:a.width+"px !important"},a=b(b({},d),{"background-size":a.width+"px "+a.height+"px !important"}),c.addMediaQueryRule("a.pinit-button",e,d),c.addMediaQueryRule("a.pinit-button span",e,a)}},{"./css-helper":2}],2:[function(g,h,a){"use strict";var c,b,f;a.__esModule=!0,a.calculateSizeForBreakpoint=a.addMediaQueryRule=a.addCssRule=a.getCurrentBreakpoint=a.BreakpointsList=a.Breakpoints=void 0,(b=c=a.Breakpoints||(a.Breakpoints={}))[b.xsm=0]="xsm",b[b.sm=576]="sm",b[b.md=768]="md",b[b.lg=992]="lg",b[b.xlg=1200]="xlg",a.BreakpointsList=Object.keys(c).filter(function(a){return"number"==typeof c[a]}).map(function(a){return Number(c[a])}),a.getCurrentBreakpoint=function(){for(var d=window.innerWidth,b=a.BreakpointsList.length-1;0<=b;b--)if(d>=a.BreakpointsList[b])return a.BreakpointsList[b];return c.xsm};function e(b,a){return b+" {"+("string"==typeof a?a:Object.keys(a).map(function(b){return b+":"+("content"===b?"'"+a[b]+"'":a[b])}).join(";"))+"}"}function d(b){var a=document.createElement("style");(a=document.head.appendChild(a).sheet).insertRule(b,a.cssRules.length)}f=((b={})[c.xsm]={width:50,height:50},b[c.sm]={width:60,height:60},b[c.md]={width:80,height:80},b[c.lg]={width:110,height:110},b[c.xlg]={width:1e3,height:1e3},b),a.addCssRule=function(a,b){d(e(a,b))},a.addMediaQueryRule=function(c,b,a){a=e(c,a),a=0<b?"@media (min-width: "+b+"px){ "+a+" }":a,d(a)},a.calculateSizeForBreakpoint=function(c,b){var a,d=f[b],a=(a=c,b=d,d=Math.min(1,b.width/a.width),a=Math.min(1,b.height/a.height),Math.min(d,a));return{height:c.height*a,width:c.width*a}}},{}],3:[function(d,e,a){"use strict";a.__esModule=!0;var c=(b.prototype.getDescription=function(d,c){for(var a="",b=0;b<c.length&&!a;b++)a=this.desc_funcs[c[b]](d);return a||""},b);function b(a){var a=(void 0===a?{}:a).siteTitle,b=void 0===a?"":a;this.desc_funcs={img_title:function(a){return a.attr("title")||a.attr("data-jpibfi-title")},img_alt:function(a){return a.attr("alt")||a.attr("data-jpibfi-alt")},post_title:function(a){return a.attr("data-jpibfi-post-title")},post_excerpt:function(a){return a.attr("data-jpibfi-post-excerpt")},img_description:function(a){return a.attr("data-jpibfi-description")},img_caption:function(a){return a.attr("data-jpibfi-caption")},site_title:function(){return b},data_pin_description:function(a){return a.attr("data-pin-description")}}}a.default=c},{}],4:[function(h,i,c){"use strict";var a,b,d,e,f,g;c.__esModule=!0,c.getWidestImageUrlFromSrcset=void 0,(b=a=a||{})[b.Width=0]="Width",b[b.PixelDensity=1]="PixelDensity",d=/(.+)\s+(\d{1,4})w\s*/i,e=/(.*)\s+(\d{1,3}(\.\d{0,2})?)x\s*/i,f=1,g=2,c.getWidestImageUrlFromSrcset=function(c){var h=c.prop?c.prop("srcset"):c.attr("srcset"),b;if(h&&0!==h.length)try{return b=h.split(","),b=function(b,c){if(c!==a.PixelDensity)if(b=b.map(function(a){return d.exec(a)}).filter(function(a){return!!a}).map(function(a){return{url:a[f].trim(),width:Number(a[g])}}),0!==b.length)return b.reduce(function(a,b){return a.width>b.width?a:b},b[0])}(b,function(b){if(0!==b.length)return b.some(function(a){return null!==d.exec(a)})?a.Width:b.some(function(a){return null!==e.exec(a)})?a.PixelDensity:void 0}(b)),void 0!==b?b.url:void 0}catch(a){return void(console&&console.error&&console.error(a))}}},{}],5:[function(d,e,b){"use strict";b.__esModule=!0;var c=(a.prototype.getFlag=function(a){return void 0!==this.flags[a]&&this.flags[a]},a.prototype.getQueryParams=function(a){a=a.split("+").join(" ");for(var b,c={},d=/[?&]?([^=]+)=([^&]*)/g;b=d.exec(a);)c[decodeURIComponent(b[1])]=decodeURIComponent(b[2]);return c},a.prototype.log=function(a){this.getFlag("print")&&console.log(this.pluginName+" debug: "+a)},a.prototype.setFlag=function(b,a){void 0===a&&(a=!0),this.flags[b]=a},a.prototype.simplelogObject=function(a){var b;this.getFlag("print")&&(b=Object.keys(a).filter(function(b){return a.hasOwnPrototype(b)}).map(function(b){return b+": "+a[b]+"\n"}).join(),this.log(b))},a);function a(b){var a=this,d,e,c;this.flags={},this.pluginName=b,d="undefined"!=typeof console&&void 0!==console.log,e="undefined"!=typeof JSON&&"function"==typeof JSON.stringify,d?(this.logString=function(b){a.log(b)},this.logObject=e?function(b){a.log(JSON.stringify(b,null,4))}:function(b){return a.simplelogObject(b)}):(this.logString=function(){},this.logObject=function(){}),c=this.getQueryParams(document.location.search),Object.keys(c).forEach(function(d){var e=d.replace(b+"_","");a.setFlag(e,c[d])})}b.default=c},{}],6:[function(a,e,c){"use strict";c.__esModule=!0;var d=a("./link-generator"),a=(b.prototype.createButton=function(a){if(a=this.linkGenerator.generate(a),a)return this.$element.clone(!1).attr("href",a).click(function(a){a.preventDefault(),a.stopPropagation(),"#"!==a.currentTarget.href.slice(-1)&&window.open(a.currentTarget.href,"mw"+a.timeStamp,"left=20,top=20,width=600,height=500,toolbar=1,resizable=0")})},b.prototype.getSize=function(){return{height:this.settings.pinImageHeight,width:this.settings.pinImageWidth}},b);function b(b,a){this.$=b,this.settings=a,this.linkGenerator=new d.default(a),this.$element=this.$("<a />",{target:"_blank",class:"pinit-button "+a.pin_image}),b="default"===a.pin_image?"jpibfi-icon-"+a.pin_image_icon:"",this.$element.html('<span class="'+b+'"></span>'),"default"===a.pin_image&&this.$element.addClass("jpibfi-button-"+a.pin_image_button)}c.default=a},{"./link-generator":9}],7:[function(d,e,b){"use strict";b.__esModule=!0;var c=(a.prototype.createClassList=function(a){return void 0===a&&(a=""),a.split(";").filter(function(a){return!!a})},a.prototype.imageEligible=function(a){return this.imageSizeIsOk(a)&&(0===this.enabledClasses.length||this.enabledClasses.some(function(b){return a.hasClass(b)||0<a.parents("."+b).length}))&&!this.disabledClasses.some(function(b){return a.hasClass(b)||0<a.parents("."+b).length})},a.prototype.imageSizeIsOk=function(a){var b=a[0].clientWidth,a=a[0].clientHeight;return b>=this.minWidth&&a>=this.minHeight},a.prototype.updateSizeConstraints=function(){this.minWidth=window.outerWidth<768?this.settings.min_image_width_small:this.settings.min_image_width,this.minHeight=window.outerWidth<768?this.settings.min_image_height_small:this.settings.min_image_height},a);function a(a){var b=this;this.settings=a,this.disabledClasses=this.createClassList(a.disabled_classes),this.enabledClasses=this.createClassList(a.enabled_classes),this.updateSizeConstraints(),window.addEventListener("resize",function(){return b.updateSizeConstraints()},!1)}b.default=c},{}],8:[function(a,e,c){"use strict";c.__esModule=!0;var d=a("./show-on-hover-strategy"),a=(b.prototype.init=function(){this.showStrategy=this.getStrategy(),this.showStrategy.start()},b.prototype.getStrategy=function(){return new d.default(this.$,this.settings,this.logger)},b);function b(a,b,c){this.settings=b,this.$=a,this.logger=c}c.default=a},{"./show-on-hover-strategy":11}],9:[function(c,e,a){"use strict";a.__esModule=!0,a.getExtension=void 0;var d=c("../common/description-helper");c("../common/srcset-helper"),a.getExtension=function(a){return void 0===a&&(a=""),a=a.replace(/^https?\:\/\/[^\/?#]+(?:[\/?#]|$)/i,"").split("."),1===a.length?"":a[a.length-1].replace(/\?.*/i,"").toLowerCase()},b.prototype.getDescription=function(a){return this.descriptionHelper.getDescription(a,this.description_option)},b.prototype.getImage=function(b,d){var c=b.attr("data-pin-media")||b.attr("data-jpibfi-src")||b.prop("src");if(c)return d?(b=a.getExtension(c),d.extension===b?d.href:c):c},b.prototype.getUrl=function(c,a){return c.attr("data-pin-url")?c.attr("data-pin-url"):this.pinLinkedUrl&&a&&(d=a.href,b=(window.location&&window.location.hostname||"").replace("www.",""),0<=d.indexOf(b))&&(b=a.extension,-1!==["","html","php"].indexOf(b))?a.href:c.attr("data-jpibfi-post-url")||window.location.href;var d,b},b.prototype.generate=function(c){var b=c.closest("a[href]"),e=void 0,d;if(1===b.length&&(e={extension:a.getExtension(b.prop("href")),href:b.prop("href")}),d=this.getImage(c,e),void 0!==d)return b=encodeURIComponent(d),d=encodeURIComponent(this.getDescription(c)),"https://pinterest.com/pin/create/bookmarklet/?is_video=false&url="+encodeURIComponent(this.getUrl(c,e))+"&media="+b+"&description="+d},c=b;function b(a){this.descriptionHelper=new d.default({siteTitle:a.siteTitle}),this.description_option=a.description_option,this.supportSrcset=a.support_srcset,this.pinLinkedUrl=a.pin_linked_url}a.default=c},{"../common/description-helper":3,"../common/srcset-helper":4}],10:[function(m,l,c){"use strict";var a,i;c.__esModule=!0;function d(a,c,d,b){return a.top+b.top}function e(a,c,d,b){return a.left+b.left}function f(d,a,b,c){return a.top-b.height-c.bottom}function g(d,a,b,c){return a.left-c.right-b.width}function k(a,b,c){return a.top+((b.top-a.top)/2-c.height/2)}function j(a,b,c){return a.left+((b.left-a.left)/2-c.width/2)}a=(h.prototype.calculate=function(a,b,c,d){return{top:this.topF(a,b,c,d),left:this.leftF(a,b,c,d)}},h);function h(a,b){this.topF=a,this.leftF=b}i=(b.prototype.calculatePosition=function(a,b,c){return this.positionCalculator.calculate(a,b,c,this.margins)},b);function b(b,c){this.margins=c,this.positionCalculator=function(b){switch(b){case"top-left":return new a(d,e);case"top-right":return new a(d,g);case"bottom-left":return new a(f,e);case"bottom-right":return new a(f,g);default:return new a(k,j)}}(b)}c.default=i},{}],11:[function(e,g,f){"use strict";var c,d=(c=function(a,b){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])})(a,b)},function(b,a){function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}),b;f.__esModule=!0,e=e("./show-strategy"),d=(b=e.default,d(a,b),a.prototype.init=function(){this.addContainers()},a.prototype.start=function(){var c=this,b,e,a;this.init();function d(a){return c.$("a.pinit-button["+c.indexerAttr+'="'+a+'"]')}b="data-jpibfi-timeout",e=0,a=this,a.$(document).delegate(this.settings.image_selector,"mouseenter",function(){var c=a.$(this),g,j,f,h,i,k;if(a.imageFilter.imageEligible(c))if(g=c.attr(a.indexerAttr),g||(g=e++,c.attr(a.indexerAttr,g)),j=d(g),0===j.length){if(f=a.buttonGenerator.createButton(c),!f)return;c.addClass("pinit-hover"),h=a.buttonGenerator.getSize(),i=c.offset(),k={top:i.top+c[0].clientHeight,left:i.left+c[0].clientWidth},h=a.positioner.calculatePosition(i,k,h),c.after(f),f.attr(a.indexerAttr,g).css("visibility","hidden").show().offset(h).css("visibility","visible").hover(function(){return clearTimeout(f.attr(b))},function(){return f.attr(b,setTimeout(function(){c.removeClass("pinit-hover"),f.remove()},100))})}else clearTimeout(j.attr(b))}),a.$(document).delegate(this.settings.image_selector,"mouseleave",function(){var c,e,f;a.logger.getFlag("prevent_hide")||(e=(c=a.$(this)).attr(a.indexerAttr))&&(f=d(e)).attr(b,setTimeout(function(){c.removeClass("pinit-hover"),f.remove()},100))})},a);function a(){return null!==b&&b.apply(this,arguments)||this}f.default=d},{"./show-strategy":12}],12:[function(a,h,c){"use strict";c.__esModule=!0;var e=a("./image-filter"),f=a("./button-generator"),g=a("./positioner"),d=a("../common/css-generator"),a=(b.prototype.addContainers=function(){var b=this.$(".jpibfi"),a=b.closest("div, article");(a=a.length?a:b.parent()).addClass("jpibfi_container")},b);function b(c,a,i){var h,b;switch(this.$=c,this.settings=a,this.logger=i,this.imageFilter=new e.default(a),this.buttonGenerator=new f.default(c,a),h={left:a.button_margin_left,top:a.button_margin_top,right:a.button_margin_right,bottom:a.button_margin_bottom},this.positioner=new g.default(a.button_position,h),this.indexerAttr="data-jpibfi-indexer",b=this.settings,i=b.pin_image,c=b.pin_image_icon,a=b.pinImageHeight,h=b.pinImageWidth,a=(b.scale_pin_image,{width:h,height:a}),i){case"custom":case"old_default":(0,d.createCssRulesForCustomButton)(a);break;case"default":(0,d.createCssRulesForDefaultButton)(a,c)}}c.default=a},{"../common/css-generator":1,"./button-generator":6,"./image-filter":7,"./positioner":10}],13:[function(b,g,c){"use strict";c.__esModule=!0;var a,d=b("./settings"),e=b("./debugger"),f=b("./hover");(a=window.jQuery)(document).ready(function(){var b=window.jpibfi_options,c=new d.default(a.extend({pageUrl:document.URL,pageTitle:document.title,pageDescription:a('meta[name="description"]').attr("content")||""},b.hover)),b=new e.default("jpibfi");window.jpibfi_debugger=b,new f.default(a,c,b).init()})},{"./debugger":5,"./hover":8,"./settings":14}],14:[function(c,d,a){"use strict";a.__esModule=!0;function b(a){var b=this;Object.keys(a).forEach(function(c){b[c]=a[c]}),this.isTouchDevice="ontouchstart"in window||{}.hasOwnProperty.call(navigator,"maxTouchPoints")}a.default=b},{}]},{},[13])